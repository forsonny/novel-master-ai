---
title: "Task Structure"
sidebarTitle: "Task Structure"
description: "Tasks in Novel Master follow a specific format designed to provide comprehensive information for both humans and AI assistants."
---

## Task Fields in tasks.json

Tasks in tasks.json have the following structure:

| Field          | Description                                    | Example                                                |
| -------------- | ---------------------------------------------- | ------------------------------------------------------ |
| `id`           | Unique identifier for the task.                | `1`                                                    |
| `title`        | Brief, descriptive title.                      | `"Chapter 1: The Arrival"`                             |
| `description`  | What the task involves.                        | `"Introduce the protagonist in their ordinary world, establish the setting, and hint at the coming conflict."` |
| `status`       | Current state.                                 | `"pending"`, `"done"`, `"deferred"`                    |
| `dependencies` | Prerequisite task IDs. ‚úÖ Completed, ‚è±Ô∏è Pending | `[1, 2]`                                               |
| `priority`     | Task importance.                               | `"high"`, `"medium"`, `"low"`                          |
| `details`      | Scene development instructions.                 | `"POV: First person, Protagonist. Setting: Small coastal town, present day. Emotional beat: Contentment turning to unease."`    |
| `testStrategy` | Continuity/pacing validation.                  | `"Review timeline consistency, verify POV voice matches established character, check pacing against target word count."`         |
| `subtasks`     | Nested scenes/beats related to the main task.  | `[{"id": 1, "title": "Opening: Protagonist's morning routine", ...}]`         |

## Task File Format

Individual task files follow this format:

```
# Task ID: <id>
# Title: <title>
# Status: <status>
# Dependencies: <comma-separated list of dependency IDs>
# Priority: <priority>
# Description: <brief description>
# Details:
<detailed scene development notes>

# Test Strategy:
<continuity/pacing validation approach>
```

## Features in Detail

<AccordionGroup>
<Accordion title="Analyzing Task Complexity">
The `analyze-complexity` command:

- Analyzes each task using AI to assess its narrative complexity (pacing, POV load, plot density) on a scale of 1-10
- Recommends optimal number of subtasks (scenes/beats) based on configured DEFAULT_SUBTASKS
- Generates tailored prompts for expanding each chapter into scenes
- Creates a comprehensive JSON report with ready-to-use commands
- Saves the report to .novelmaster/reports/task-complexity-report.json by default

The generated report contains:

- Complexity analysis for each task (pacing, plot density, POV load scored 1-10)
- Recommended number of subtasks (scenes/beats) based on complexity
- AI-generated expansion prompts customized for each chapter
- Ready-to-run expansion commands directly within each task analysis
</Accordion>

<Accordion title="Viewing Complexity Report">
The `complexity-report` command:

- Displays a formatted, easy-to-read version of the complexity analysis report
- Shows tasks organized by complexity score (highest to lowest)
- Provides complexity distribution statistics (low, medium, high)
- Highlights tasks recommended for expansion based on threshold score
- Includes ready-to-use expansion commands for each complex task
- If no report exists, offers to generate one on the spot
</Accordion>

<Accordion title="Smart Task Expansion">
The `expand` command automatically checks for and uses the complexity report:

When a complexity report exists:

- Tasks are automatically expanded using the recommended subtask count and prompts
- When expanding all tasks, they're processed in order of complexity (highest first)
- Research-backed generation is preserved from the complexity analysis
- You can still override recommendations with explicit command-line options

Example workflow:

```bash
# Generate the complexity analysis report with research capabilities
novel-master analyze-complexity --research

# Review the report in a readable format
novel-master complexity-report

# Expand tasks using the optimized recommendations
novel-master expand --id=8
# or expand all tasks
novel-master expand --all
```
</Accordion>

<Accordion title="Finding the Next Task">
The `next` command:

- Identifies tasks that are pending/in-progress and have all dependencies satisfied
- Prioritizes tasks by priority level, dependency count, and task ID
- Displays comprehensive information about the selected task:
  - Basic task details (ID, title, priority, dependencies)
  - Scene development details
  - Subtasks/scenes (if they exist)
- Provides contextual suggested actions:
  - Command to mark the task as in-progress
  - Command to mark the task as done
  - Commands for working with subtasks
</Accordion>

<Accordion title="Viewing Specific Task Details">
The `show` command:

- Displays comprehensive details about a specific task or subtask
- Shows task status, priority, dependencies, and detailed scene development notes
- For parent tasks (chapters), displays all subtasks (scenes) and their status
- For subtasks (scenes), shows parent task (chapter) relationship
- Provides contextual action suggestions based on the task's state
- Works with both regular tasks and subtasks (using the format taskId.subtaskId)
</Accordion>
</AccordionGroup>

## Best Practices for AI-Driven Novel Development

<CardGroup cols={2}>
  <Card title="üìù Detailed NRD" icon="lightbulb">
    The more detailed your Novel Requirements Document (NRD), the better the generated story structure will be.
  </Card>
  
  <Card title="üëÄ Review Tasks" icon="magnifying-glass">
    After parsing the NRD, review the tasks to ensure they make sense and have appropriate narrative dependencies.
  </Card>
  
  <Card title="üìä Analyze Complexity" icon="chart-line">
    Use the complexity analysis feature to identify which chapters should be broken down into scenes/beats.
  </Card>
  
  <Card title="‚õìÔ∏è Follow Dependencies" icon="link">
    Always respect task dependencies - the Cursor agent will help with this to maintain proper story flow.
  </Card>
  
  <Card title="üîÑ Update As You Go" icon="arrows-rotate">
    If your story direction diverges from the plan, use the update command to keep future tasks aligned.
  </Card>
  
  <Card title="üì¶ Break Down Tasks" icon="boxes-stacked">
    Use the expand command to break down complex chapters into manageable scenes/beats.
  </Card>
  
  <Card title="üîÑ Regenerate Files" icon="file-arrow-up">
    After any updates to tasks.json, regenerate the manuscript files to keep them in sync.
  </Card>
  
  <Card title="üí¨ Provide Context" icon="comment">
    When asking the Cursor agent to help with a task, provide context about what you're trying to achieve in the story.
  </Card>
  
  <Card title="‚úÖ Validate Dependencies" icon="circle-check">
    Periodically run the validate-dependencies command to check for invalid or circular dependencies in your story structure.
  </Card>
</CardGroup>
